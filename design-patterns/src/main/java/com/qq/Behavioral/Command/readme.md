# 命令模式

## 业务

定义了一个电器接口（Switchable），可对电器就行相应的操作

## dmeo1

分别有两个简单的电器（Bulb、Fan），直接对其就行使用即可。

虽然没有错，但这看上去与设计模式没有任何瓜葛。

## demo2

为了体现出模式的优越性，让系统进化得更高级一些，使用**策略模式**。

加入另一个模块（Switcher），其内部分别绑定了电器的“通电”和“断电”方法，可绑定不同电器，实现对不同电器的控制。

但随着设备不断扩展，比如有了电视机，收音机等等设备，它们不止是开关通电这种简单行为模式了，还可以有转换频道、变音量等等更多的行为，简单的开关不能满足要求了。虽然可以替换绑定的电器，但开关始终与电器相耦合，无法控制其他设备。因此要将控制器和设备完全拆解开。

## demo3

使用**命令模式**。

定义一个高级设备的接口（Device），继承普通电器的接口，不仅有继承的开关功能还有更多高级功能，其下分别有实现类（TV、Radio），分别对应电视机和收音机类。

定义命令接口（Command），指定包含哪些命令，不绑定设备，使命令与电器解耦，由具体的命令类（SwitchCommand、ChannelCommand、VolumeCommand）实现具体命令逻辑。

定义一个遥控器（Controller），由多种命令组装而成，遥控器不清楚绑定的设备，只绑定命令。因此客户端可以任意的组装命令，可以遥控电视，也可以遥控收音机，或许绑定上下键调音量，或许是换成左右键调音量，甚至可以定义一个宏命令去控制灯泡的切换开关实现一种霓虹灯闪烁的效果（可以思考怎样实现），而对于控制器端本身，同样可以继续扩展，或许干脆替换个游戏手柄或者键盘，一样可以发号施令。

发令控制方与接受执行方完全被拆解开，实现了对各模块的自由扩展，对指令映射、设备绑定的灵活操控，松散的系统得以成就繁多模块解耦的最终目的。